<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dossier Agent :: NYX_BLACKWOOD</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../style-nyx.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    
    <style>
        .link-secret { cursor: pointer; position: relative; }
        .link-secret:hover::after { content: " [LOCKED]"; color: #ef4444; }
        /* Animation simple pour le curseur */
        .cursor-blink::after { content: '_'; animation: blink 1s step-end infinite; }
        @keyframes blink { 50% { opacity: 0; } }
    </style>
</head>
<body class="text-green-400 min-h-screen p-4 md:p-8 scanline bg-black">

    <div class="max-w-6xl mx-auto border-2 border-green-700/50 shadow-2xl shadow-green-900/50 bg-black/80">
        <header class="font-tech text-lg md:text-xl p-4 bg-green-900/30 border-b-2 border-green-700/50 flex justify-between items-center">
            <span>[TERMINAL SÉCURISÉ // ACCÈS NIVEAU 3 REQUIS]</span>
            <span class="text-red-500 animate-pulse">● REC</span>
        </header>

        <div class="p-6 md:p-8 space-y-8">
            <div>
                <span class="text-green-300">$</span> <span class="text-white">load --dossier=AGENT_BLACKWOOD_NYX</span>
                <p class="text-cyan-400">... Chargement du dossier ...</p>
                <p class="text-green-400">Authentification réussie. Affichage des données publiques.</p>
                <span class="text-green-300">$</span> <span class="cursor-blink"></span>
            </div>

            <section class="border border-green-600/30 p-4 rounded-lg bg-black/20">
                <h2 class="font-tech text-2xl text-white mb-4">[SECTION 01 : IDENTIFICATION PUBLIQUE]</h2>
                <div class="flex flex-wrap md:flex-nowrap gap-6">
                    <div class="flex-grow space-y-4">
                        <div><p class="text-slate-400">NOM DE L'AGENT :</p><p class="text-xl text-white">BLACKWOOD, NYX</p></div>
                        <div><p class="text-slate-400">ALIAS CONNUS :</p><p class="text-xl text-white">"ZERO", "NULL", "GHOST"</p></div>
                        <div><p class="text-slate-400">STATUT ACTUEL :</p><p class="text-xl text-yellow-400">ACTIF (NON-SANCTIONNÉ)</p></div>
                        <div><p class="text-slate-400">NIVEAU DE MENACE :</p><p class="text-xl text-red-500">VARIABLE (ÉLEVÉ)</p></div>
                    </div>
                    <div class="flex-shrink-0">
                        <div class="border-2 border-red-500/50 p-2 w-32 h-32 flex items-center justify-center bg-red-900/20 text-center flex-col">
                            <span class="text-red-500 font-bold">[IMAGE CORROMPUE]</span>
                            <p class="text-xs text-red-400 mt-2 animate-pulse">ERR_404</p>
                        </div>
                    </div>
                </div>
            </section>

            <div class="w-full border-t border-dashed border-green-800 my-4"></div>

            <section class="border border-green-600/30 p-4 rounded-lg bg-black/20">
                <h2 class="font-tech text-2xl text-white mb-4">[SECTION 02 : PROFIL PHYSIQUE & PSYCHOLOGIQUE]</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div>
                        <h3 class="text-xl text-cyan-400 font-tech mb-2">// PHYSIQUE</h3>
                        <ul class="list-none space-y-1">
                            <li><span class="text-slate-400">TAILLE:</span> 1m66</li>
                            <li><span class="text-slate-400">CHEVEUX:</span> Blonds</li>
                            <li><span class="text-slate-400">YEUX:</span> Bleus</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-xl text-green-400 font-tech mb-2">// QUALITÉS (ASSETS)</h3>
                        <ul class="list-none space-y-1">
                            <li>Loyale</li><li>Disciplinée</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-xl text-yellow-400 font-tech mb-2">// DÉFAUTS (LIABILITIES)</h3>
                        <ul class="list-none space-y-1">
                            <li>Peureuse</li>
                        </ul>
                    </div>
                </div>
            </section>

            <div class="w-full border-t border-dashed border-green-800 my-4"></div>

            <section class="border border-red-600/30 p-4 rounded-lg bg-red-900/10">
                <h2 class="font-tech text-2xl text-red-400 mb-4">[SECTION 03 : HISTORIQUE - NIVEAU 5 REQUIS]</h2>
                <div class="bg-black/30 p-4 rounded">
                    <p class="text-red-400 mb-2">[ACCÈS VERROUILLÉ - CHIFFREMENT AES-256]</p>
                    <p class="encrypted text-sm select-none font-mono text-red-900/50 md:text-red-400/30 break-words">
                        Nyx Blackwood (née le 27 mai 1999) est l'enfant prodige d'une dynastie technologique... 
                        b8 00 00 00 b8 00 00 00 00 00 00 00 00 00 00 00
                        ...Suite à certaines "découvertes" troublantes...
                        48 65 6c 6c 6f 20 57 6f 72 6c 64 21 0a 00 00 00
                        ...elle décida de s'émanciper et de couper les ponts...
                        31 32 33 34 35 36 37 38 39 30 00 00 00 00 00 00
                        ...Cherchant à repartir de zéro... 
                        f0 9f 92 bb f0 9f 92 bb f0 9f 92 bb 00 00 00 00
                        ...<span class="data-glitched-random">[DONNÉES CORROMPUES]</span>...
                    </p>
                </div>
            </section>

            <section class="border border-yellow-600/30 p-4 rounded-lg bg-yellow-900/10">
                <h2 class="font-tech text-2xl text-yellow-400 mb-4">[SECTION 04 : COMPÉTENCES & OPÉRATIONS - NIVEAU 7 REQUIS]</h2>
                <div class="bg-black/30 p-4 rounded">
                    <p class="text-yellow-400 mb-2">[ACCÈS VERROUILLÉ - CLÉ DE DÉCHIFFREMENT MANQUANTE]</p>
                    <p class="encrypted text-sm select-none font-mono text-yellow-700/50">
                        [FICHIER: operations_datahaven.log]...
                        2f 2f 20 43 6f 6d 70 65 74 65 6e 63 65 73 20...
                        <span id="trigger-secret">[FICHIER: analyse_psy_cortex.dat]</span>...
                        ...<span class="data-glitched-random"></span>...
                        [FICHIER: contacts_actifs.db] (Verrouillé)...
                        01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
                    </p>
                </div>
            </section>

             <div>
                <span class="text-green-300">$</span> <span class="text-white">exit</span>
                <p class="text-red-500">... Déconnexion ...</p>
                <div class="mt-8 text-center border-t border-green-700/50 pt-4">
                    <a href="../database.html" class="font-tech text-green-400 hover:text-white hover:bg-green-700 p-2 transition-all inline-block">
                        &lt;&lt; RETURN_TO_DATABASE
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div id="custom-alert-overlay" class="fixed inset-0 bg-black/90 flex items-center justify-center z-50 hidden backdrop-blur-sm">
        <div class="border-2 border-red-600 bg-black p-6 max-w-md w-full font-mono shadow-[0_0_30px_rgba(220,38,38,0.3)]">
            <div class="text-red-500 text-xl mb-4 font-bold flex items-center">
                <span class="animate-pulse mr-2">⚠️</span> [ALERTE SÉCURITÉ]
            </div>
            <p id="custom-alert-message" class="text-red-400 mb-8 text-lg leading-relaxed">
                </p>
            <div class="text-right">
                <button id="custom-alert-ok" class="bg-red-950 hover:bg-red-900 text-red-400 border border-red-600 px-6 py-2 transition-all duration-150 hover:shadow-[0_0_15px_rgba(220,38,38,0.5)] active:scale-95">
                    > CONFIRMER_
                </button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
           
            const glitchElements = document.querySelectorAll('.data-glitched-random');
            const chars = 'ABCDEF0123456789<>!@#$%^&*()_+[]{}|;:,./?';
            setInterval(() => {
                glitchElements.forEach(el => {
                    el.textContent = Array.from({length: Math.floor(Math.random() * 10) + 8}, () => chars.charAt(Math.floor(Math.random() * chars.length))).join('');
                });
            }, 150);

            // --- FONCTION ALERT PERSONNALISÉE ---
            const overlay = document.getElementById('custom-alert-overlay');
            const messageEl = document.getElementById('custom-alert-message');
            const okBtn = document.getElementById('custom-alert-ok');

            function showCustomAlert(msg) {
                messageEl.textContent = msg;
                overlay.classList.remove('hidden');
                return new Promise(resolve => {
                    okBtn.onclick = () => {
                        overlay.classList.add('hidden');
                        resolve();
                    };
                });
            }

           
            const trigger = document.getElementById('trigger-secret');
            if (trigger) {
                trigger.addEventListener('click', async (e) => {
                    e.preventDefault();
                    
                    
                    const password = prompt(">> ENTRÉE SÉCURISÉE NIVEAU 7 <<\nVEUILLEZ SAISIR LE CODE D'ACCÈS :");
                    
                    if (password) {
                        document.body.innerHTML = `
                            <div style="color:#0f0; font-family:'Roboto Mono', monospace; padding:20px; background:#000; height:100vh; font-size:1.2rem;">
                                > CONNEXION AU TERMINAL CENTRAL...<br>
                                > VÉRIFICATION DU HASH...<br>
                                <span class="cursor-blink"></span>
                            </div>`;

                        try {
                            const response = await fetch('/api/login', {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify({ mode: 'file_access', password: password })
                            });
                            const data = await response.json();

                            if (response.ok && data.success && data.redirect) {
                                document.body.innerHTML = `
                                    <div style="color:#0f0; font-family:'Roboto Mono', monospace; padding:20px; background:#000; height:100vh; font-size:1.2rem;">
                                        > ACCÈS AUTORISÉ.<br>
                                        > CHARGEMENT DU FICHIER...
                                    </div>`;
                                setTimeout(() => window.location.href = data.redirect, 1500);
                            } else {
                                await showCustomAlert("ERREUR : " + (data.message || "CODE INVALIDE"));
                                window.location.reload();
                            }
                        } catch (error) {
                            console.error(error);
                            await showCustomAlert("ERREUR CRITIQUE : TERMINAL HORS LIGNE.");
                            window.location.reload();
                        }
                    }
                });
            }
        });
    </script>
</body>
</html>