<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAS - Profil Agent</title>

    <script>
        const REQUIRED_LEVEL = 1;
    </script>
    <script src="../security.js"></script>
    <link rel="stylesheet" href="../style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
</head>
<body>
    <main class="terminal">
        <h1>PROFIL AGENT<span class="blinker">_</span></h1>
        
        <p class="status" id="agent-name-status">AGENT: [CHARGEMENT...]</p>

        <div class="report-content">
            <h3 class="category-title">//: DONNÉES D'IDENTIFICATION</h3>
            <ul class="inventory-list">
                <li>
                    <span class="item-name">AGENT ID:</span>
                    <ul class="item-details">
                        <li><span id="profile-name">[INCONNU]</span></li>
                    </ul>
                </li>
                <li>
                    <span class="item-name">ACCRÉDITATION:</span>
                    <ul class="item-details">
                        <li><span id="profile-level">[NIVEAU 0]</span></li>
                    </ul>
                </li>
            </ul>
        </div>

        <footer class="portal-footer">
            <a href="../index.html" class="back-link">&lt;&lt; RETURN_TO_MAINFRAME</a>
        </footer>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            const user = localStorage.getItem('sas_user') || 'INCONNU';
            const level = localStorage.getItem('sas_level') || '0';
            
            
            document.getElementById('agent-name-status').textContent = `AGENT: ${user}`;
            document.getElementById('profile-name').textContent = user;
            document.getElementById('profile-level').textContent = `NIVEAU ${level}`;
            
            
            if (parseInt(level) >= 3) {
                document.getElementById('profile-level').style.color = '#ff4141'; // Rouge
            } else {
                document.getElementById('profile-level').style.color = '#00ff00'; // Vert
            }
        });
    </script>
</body>
</html>